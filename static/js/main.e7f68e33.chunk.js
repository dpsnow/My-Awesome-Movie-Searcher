(this["webpackJsonpmy-awesome-movie-searcher"]=this["webpackJsonpmy-awesome-movie-searcher"]||[]).push([[0],{68:function(e,a,t){e.exports=t(78)},77:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),c=t.n(l),i=t(31),o=t(15),u=t(55),m=t.n(u),s=t(56),E=(t(77),t(14)),p=t(45),f=t(120),v=t(12);var d=function(){return fetch("https://devlab.website/v1/movies").then((function(e){return e.json()})).then((function(e){var a=new Map;return e.forEach((function(e){var t=function(e){var a={};return Object.entries(e).map((function(e){var t,n=Object(v.a)(e,2),r=n[0],l=n[1];return a[(t=r,t.includes("_")?t.replace(/([-_]\w)/g,(function(e){return e[1].toUpperCase()})):t)]=l})),[e.id,a]}(e),n=Object(v.a)(t,2),r=n[0],l=n[1];a.set(r,l)})),a}))},h=t(44),O={movies:new Map,search:{values:{genre:"",text:""}}},g=new Map([["@@APP/ROOT/FETCH_MOVIES",function(e,a){return Object(h.a)({},e,{movies:a.payload})}],["@@APP/ROOT/SET_FAV_MOVIE",function(e,a){var t=new Map(e.movies),n=t.get(a.payload);return n&&(n.isFav=!n.isFav,t.set(a.payload,n)),Object(h.a)({},e,{movies:t})}],["@@APP/ROOT/ADD_SEARCH",function(e,a){var t=new Set(e.search.last||[]);if(t.add(a.payload.text),t.size>=6){var n=Array.from(t.values());t.delete(n[0])}return Object(h.a)({},e,{search:{values:{genre:a.payload.genre,text:a.payload.text},last:Array.from(t.values())}})}],["DEFAULT",function(){return O}]]);var y=function(e){return{type:"@@APP/ROOT/ADD_SEARCH",payload:e}},b=t(38),j=(Object(b.a)((function(e){return Array.from(e.movies.values()).filter((function(e){return e.isFav}))}),(function(e){return e})),Object(b.a)((function(e){if(void 0===e.search)return e.movies;var a=e.search.values,t=a.genre,n=a.text;return t||n?Array.from(e.movies.values()).filter((function(e){return"all"===t||e.genres.includes(t)})).filter((function(e){return""===n||e.title.includes(n)})):e.movies}),(function(e){return e}))),x=t(106),w=t(109),A=t(111),P=t(112),k=t(113),C=t(114),S=t(126),T=t(128),F=t(115),M=t(116),R=t(119),_=t(117),D=t(118),W=Object(x.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:"2px"}},expand:{transform:"rotate(0deg)"},expandOpen:{transform:"rotate(180deg)"}}),V=function(e){var a=Object(o.b)(),t=e.title,l=e.overview,c=e.genres,i=e.posterPath,u=e.id,m=e.isFav,s=Object(n.useState)(!1),E=Object(v.a)(s,2),f=E[0],d=E[1],h=W();return r.a.createElement(w.a,null,r.a.createElement(A.a,{style:{height:"400px"},image:"https://devlab.website/".concat(i)}),r.a.createElement(P.a,{title:t,titleTypographyProps:{align:"center"}}),r.a.createElement(k.a,{variant:"middle"}),r.a.createElement(C.a,null,r.a.createElement(S.a,{className:h.root},c.map((function(e){return r.a.createElement(T.a,{variant:"outlined",key:e,size:"small",label:e})})))),r.a.createElement(F.a,{disableSpacing:!0},r.a.createElement(M.a,{onClick:function(){a(function(e){return{type:"@@APP/ROOT/SET_FAV_MOVIE",payload:e}}(u))},color:m?"secondary":"default"},r.a.createElement(_.a,null)),r.a.createElement(M.a,{className:f?h.expandOpen:h.expand,onClick:function(){d(!f)},style:{marginLeft:"auto"}},r.a.createElement(D.a,null))),r.a.createElement(R.a,{in:f,timeout:"auto",unmountOnExit:!0},r.a.createElement(C.a,null,r.a.createElement(p.a,{paragraph:!0},"Overview:"),r.a.createElement(p.a,{paragraph:!0},l))))},I=function(){var e=Object(o.b)(),a=Object(o.c)(j);return Object(n.useEffect)((function(){d().then((function(a){e(function(e){return{type:"@@APP/ROOT/FETCH_MOVIES",payload:e}}(a))}))}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{variant:"h3",component:"h1"},"Movies"),r.a.createElement(f.a,{container:!0,alignItems:"stretch",spacing:1},a&&Object(E.a)(a.values()).map((function(e){return r.a.createElement(f.a,{item:!0,xs:12,sm:6,md:4,key:e.id},r.a.createElement(V,e))}))))},L=t(121),z=function(){return r.a.createElement(L.a,{maxWidth:"md",style:{marginTop:"60px"}},r.a.createElement(k.a,{variant:"fullWidth"}),r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(S.a,null,r.a.createElement("a",{href:"/"},"Privacy Policy"),r.a.createElement("p",null,"\xa9 2010-",(new Date).getFullYear()," by Movier-plus.com, Inc."))))},B=t(79),H=t(130),N=t(122),U=t(127),J=t(129),Y=t(123),$=Object(b.a)((function(e){var a=Array.from(e.movies.values()).map((function(e){return e.genres}));return new Set(a.flat())}),(function(e){return e})),q=function(){var e=Object(o.b)(),a=Object(o.c)($),t=Object(o.c)((function(e){return e.search?e.search.last:[]})),l=Object(n.useState)("all"),c=Object(v.a)(l,2),i=c[0],u=c[1],m=Object(n.useState)(""),s=Object(v.a)(m,2),E=s[0],p=s[1];return r.a.createElement(N.a,{fullWidth:!0,size:"small",style:{display:"flex",flexDirection:"row"}},r.a.createElement(U.a,{id:"select",value:i,onChange:function(a){u(a.target.value),e(y({genre:a.target.value,text:E}))}},r.a.createElement(J.a,{value:"all"},"All"),0!==a.size&&Array.from(a).map((function(e){return r.a.createElement(J.a,{key:e,value:e},e)}))),r.a.createElement("input",{type:"search",name:"search",id:"search",list:"search-select",onBlur:function(a){p(a.target.value),e(y({genre:i,text:a.target.value}))}}),r.a.createElement("datalist",{id:"search-select"},t&&t.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(Y.a,null))},G=t(124),K=t(60),Q=t(125),X=function(){var e=Object(n.useState)(null),a=Object(v.a)(e,2),t=a[0],l=a[1],c=function(){l(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{"aria-controls":"user-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)}},r.a.createElement(Q.a,null),"Vasya21"),r.a.createElement(K.a,{id:"user-menu",anchorEl:t,open:Boolean(t),onClose:c},r.a.createElement(J.a,{onClick:c},"Profile"),r.a.createElement(J.a,{onClick:c},"Settings"),r.a.createElement(J.a,{onClick:c},"Logout")))},Z=function(){return r.a.createElement(B.a,null,r.a.createElement(L.a,{maxWidth:"md"},r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(f.a,{item:!0},r.a.createElement("span",null,"Realise Calendar")," | ",r.a.createElement("span",null,"My List")," | ",r.a.createElement("span",null,"Coming soon")),r.a.createElement(f.a,{item:!0},r.a.createElement(p.a,null,r.a.createElement(H.a,{value:"checkedC",inputProps:{"aria-label":"primary checkbox"}})))),r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(f.a,{item:!0,xs:2},r.a.createElement(p.a,{variant:"h6"},">MOViER+")),r.a.createElement(f.a,{item:!0,xs:!0},r.a.createElement(S.a,{flexShrink:1},r.a.createElement(q,null))),r.a.createElement(f.a,{item:!0,xs:2},r.a.createElement(X,null)))))},ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null),r.a.createElement("div",{className:"App"},r.a.createElement(L.a,{maxWidth:"md"},r.a.createElement(I,null))),r.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0,t=g.has(a.type)?g.get(a.type):g.get("DEFAULT");return t(e,a)}),Object(s.composeWithDevTools)(Object(i.applyMiddleware)(m.a)));c.a.render(r.a.createElement(o.a,{store:ae},r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[68,1,2]]]);
//# sourceMappingURL=main.e7f68e33.chunk.js.map